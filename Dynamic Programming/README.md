# 동적계획법(Dynamic Programming) (2020.06.10) (2020.08.18)

## 동적계획법의 소개

### 피보나치 수
: f(n) = f(n-1) + f(n-2)  피보나치 수열 ( n >= 2, f(0) = 0, f(1) = 1)

#### 구현 방법
**재귀함수** : 구현하기 쉬우나 문제점 존재, 엄청난 중복 호출 발생 

**재귀함수 사용시 시간복잡도**
- 수학적 귀납법: 피보나치 함수의 중복 호출이 얼마나 있는지 알기 위해 이용하는 방법 -> 시간복잡도 계산 
주어진 등식이 n = 1일 때 성립함을 증명->n일 때 성립한다고 가정->n+1일 때 성립함을 증명해서 모든 n에 대하여 성립함을 보이는 방법
- 포화이진트리 : f(n)을 수행시 호출되는 함수들을 이진 트리로 표현할 시 높이가 n인 포화이진트리가 됨.  
이 경우 f(n)을 제외한 노드의 개수가 2^n개가 되므로 즉 f(n)호출 시 재귀함수가 총 2^n번 호출 됨 -> 시간복잡도 O(2^n)임을 알 수 있음
- 귀류법 : 어떤 명제가 거짓이라고 가정 후 모순을 이끌어내 가정이 거짓임을 즉 처음 명제가 참임을 보이는 방법
적용 예:) 비둘기 집의 원리  
비둘기 n+1 마리, 비둘기 집 n개가 있고 적어도 한 개의 집에는 두마리 이상의 비둘기가 있다고 했을 때 적어도 어느 한 집에는 두 마리의 비둘기가 있음을 증명하시오  
증명:) 가정: 비둘기 n+1 마리, 비둘기 집 n개가 있다고 하자. 만약 각 비둘기 집에 한 마리 이하의 비둘기만 들어 있다면, 전체 비둘기 집에는 많아야 n마리의 비둘기가 존대한다 이 경우 앞서 가정과 모순되므로 적어도 한 개의 비둘기 집에는 두 마리 이상의 비둘기가 있다

**메모이제이션** : 실행시간을 O(n)으로 줄일 수 있음  
- 메모이제이션(memoization : to put in memory)이란?
: 컴퓨터 프로그램을 실행할 때 이전에 계산한 값을 메모리에 저장해서 매번 다시 계산하지 않도록 하여 전체적인 실행속도를 빠르게 하는 기술로 동적 계획법을 적용하기 위해 사용되는 핵심 기술

**동적계획 알고리즘**: 작은 부분에서 큰 부분의 해들을 모두 구하여 최종적으로 원래 주어진 문제를 해결하는 설계 기법  
- 동적 계획법 적용 조건
1. 중복 부분문제 구조 : 문제의 순환적 성질로 이전에 계산된 작은 문제의 해가 더 큰 문제의 해를 구할 때 중복사용되는데, 메모이제이션을 사용하여 중복 계산을 피함
2. 최적 부분문제 구조 : 어떤 문제에 대한 해가 최적일 때 그 해를 구성하는 작은 문제들의 해 역시 최적이어야 함
- 분할정복 vs 동적 계획법
1. 분할 정복 : 주어진 문제를 부분 문제들로 분할하나 작은 문제의 해가 큰 문제의 해에 중복되어서 사용되지 않음(예: 퀵 정렬, 병합 정렬)
2. 동적 계획법 : 부분 문제들이 더 작은 부분문제들의 해를 공유

### 동전 거스름돈 문제와 이항계수

1. 동전 거스름돈 문제
**Q.사용할 수 있는 동전 1,4,6원 일때 거스름돈 8원에 대한 최소 동전 개수는 몇 개 일까?**
- 그리디 방법의 접근: 6,1,1원
- 최적해: 4,4 원
(결론): 그리디 방법으로 동전 거스름돈의 최적해를 구할 수 없는 경우가 있다

#### 구현 방법
**재귀 알고리즘에 메모이제이션 적용**
: 상태 공간 트리를 사용하여 단말노드 방문 시 중복되는 부부은 메모이제이션을 통해 최소화

**동적 계획법 : 상향식**
- 1원에 대한 최적해 -> 2원에 대한 최적해 -> ... -> 8원에 대한 최적해  
f(n) = min(f(n-6),f(n-4),f(n-1)} + 1

2. 이항 계수 문제
**이항 정리**
: 이항 다항식 x+y 의 거듭제곱 n에 대해서 전개한 각 항 x^ky^(n-k)의 계수 값을 구하는 정리로 x^ky^(n-k)의 계수는 n개에서 k개를 고르는 조합의 가짓수인 nCk 즉 이항계수와 같다.

**이항 계수를 구하는 공식**
1. 일반 수식: nCk = n!/k!(n-k)! 
2. 계산을 더 빠르게 하기위해 펙토리얼 계산을 뺸 수식: |n-1, k-1| + |n+1, k| if( 0 < k < n), 1 (if k = 0 || k = n)  
-> 두 번째 수식은 완전 검색에서 보았던 조합의 재귀적 정의와 같음!

**파스칼의 삼각형**
: 이항 계수를 삼각형 모양의 기하학적 형태로 배열한 것
1. C(n,0) = 1
2. C(n,n) = 1
3. C(n,k) = C(n-1,k-1) + C(n-1,k)

### 피보나치
1. 재귀호출 : O(2^n)
2. DP(메모이제이션) : O(n)
2. Dnc(matrix이용) : O(logn)

### 동전 거스름 돈 문제
1. 그리디
2. DP

### 이항 계수 문제
1. 재귀호출
2. DP(메모이제이션)

## 동적계획법의 적용

### 배낭문제(Kanpsack Problem)
물건 n개(각 물건에는 무게와 가치가 주어짐), 배낭의 용량 w 일 때, 배낭에 담을 수 있는 물건의 최대 가치는?  
조건1. 배낭에 담은 물건의 무게의 합이 배낭의 용량 W를 초과할 수 없음  
조건2. 물건은 할 개 씩만 있으며, 쪼개서 담을 수 없음  

### 상태 공간 트리 탐색 방법
1. 깊이 우선 탐색 DFS(Backtracking) : O(2^n)
2. 너비 우선 탐색 BFS
3. 최고 우선 탐색 Best-First Search(A* algorithm)



### ---------------------------------적용 문제 예시--------------------------------------

## 백준 사이트
* 2293번.동전 1 <https://www.acmicpc.net/problem/2293>
* 1912번.연속합 <https://www.acmicpc.net/problem/1912>
* 1149번.RGB거리 <https://www.acmicpc.net/problem/1149>

